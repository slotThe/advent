âŸ¨Split,lfâŸ© â† â€¢Import "../../util/bqn_util/util.bqn"
inp â† >â€¢FLines"../inputs/day04.txt"

Diag â† { gğ•Šiâ€¿j: { ğ•Š'X': "MAS"â‰¡{âŸ¨i+ğ•©,j+ğ•©âŸ©(âŠ‘âŠ@)g}Â¨1+â†•3; ğ•ŠÂ·: 0 }iâ€¿jâŠ‘g }
_Rot â† { +Â´ğ”½Â¨âŒ½âˆ˜â‰âŸ(â†•4)ğ•© }
!2493â‰¡+Â´âŸ¨
  (+Â´(+Â´"XMAS"âŠ¸â·)Ë˜)_Rot inp # Horizontal and vertical
  {+Â´â¥Šğ•©âŠ¸DiagÂ¨â†•â‰¢ğ•©}  _Rot inp # Diagonal
âŸ©

XMAS â† {gğ•Šiâ€¿j:
  {ğ•Š'M':
    aâ€¿sâ†{âŸ¨i+ğ•©,j+ğ•©âŸ©(âŠ‘âŠ@)g}Â¨1+â†•2
    msâ€¿smâ†{ğ•Šaâ€¿b:âŸ¨i+a,j+bâŸ©(âŠ‘âŠ@)g}Â¨âŸ¨0â€¿2, 2â€¿0âŸ©
    (<msâ€¿aâ€¿sâ€¿sm)âˆŠâŸ¨"MASS","SASM"âŸ©;
   ğ•ŠÂ·: 0
  } iâ€¿jâŠ‘g
}
!1890â‰¡âŠ‘+Â´âŸ¨âŠ¢,âŒ½âŒ½Ë˜âŸ©{+Â´â¥Š(ğ•ğ•©)âŠ¸XMASÂ¨â†•â‰¢ğ•©}Â¨<inp
