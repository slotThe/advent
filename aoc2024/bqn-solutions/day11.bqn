âŸ¨IntsâŸ© â† â€¢Import "../../util/bqn_util/util.bqn"
inp â† Ints â€¢FChars"../inputs/day11.txt"

B â† {
  ğ•Š0: âŸ¨1âŸ©;
  ğ•Šn: 0=2|â‰ sâ†â€¢Repr n? â€¢ParseFloatÂ¨(2Ã·Ëœâ‰ s)(â†‘â‹ˆâ†“)s;
  âŸ¨ğ•©Ã—2024âŸ©
}
Bs â† { ğ•Šhm:
  vâ†âŸ¨âŸ©
  { ğ•Šk: câ†hm.Get k â‹„ vâˆ¾â†©<kâ‹ˆ-c â‹„ {vâˆ¾â†©<ğ•©â€¿c}Â¨B k }Â¨hm.Keys@  # Collect changes
  { ğ•Škâ€¿c: k hm.Set c+0 hm.Get k }Â¨v                       # Make changes
  { ğ•Šk: 0=hm.Get k? hm.Delete k; @ }Â¨hm.Keys@             # Clean (not necessary, but faster)
  hm
}
!239714â‰¡+Â´(BsâŸ25 inp â€¢HashMap 1â¥ŠËœâ‰ inp).Values@
!284973560658514â‰¡+Â´(BsâŸ75 inp â€¢HashMap 1â¥ŠËœâ‰ inp).Values@
