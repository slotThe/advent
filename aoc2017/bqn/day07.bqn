âŸ¨SplitâŸ© â† â€¢Import "../../util/bqn_util/util.bqn"
inp â† {
  ws â† ' ' Split ğ•©
  âŸ¨ âŠ‘ws, â€¢BQN 1âŠ‘ws, ','Splitâˆ¾3â†“ws âŸ© # nameâ€¿weightâ€¿children
}Â¨ â€¢FLines"../inputs/day07.txt"

â€¢Show root â† âŠ‘ (âŠ‘Â¨inp){(Â¬ğ•¨âˆŠğ•©)/ğ•¨}(âˆ¾Â¯1âŠ‘Â¨inp) # â‡’ "svugo"

h â† âŸ¨âŸ©â€¢HashMapâŸ¨âŸ© â‹„ { nâ€¿wâ€¿ch: n h.Set wâ€¿ch }Â¨inp # name -> weight, children
M â† =Â´2â†‘âŠ‘Â¨ # Do the first two elements have matching cumulative weights?
SpotOutlier â† {
  wâ€¿ch â† h.Get ğ•©
  sums â† âˆ§ğ•ŠÂ¨ch                   # Sort by ascending w+wc
  { ğ•ŠâŸ¨âŸ©: wâ€¿w;                    # No children
    ğ•Šs : M s? MâŒ½s?               # All child nodes's weights match
      âŸ¨w++Â´âŠ‘Â¨s, wâŸ©;
    ğ•Šs : M s?                    # Last weight is higher than the [o]ther[w]eights
      wwcâ€¿mwâ†Â¯1âŠ‘s â‹„ owâ€¿Â·â†  âŠ‘s â‹„ (mw-wwc-ow)!0;
    ğ•Šs : MâŒ½s?                    # First weight is lower than the [o]ther[w]eights
      wwcâ€¿mwâ†  âŠ‘s â‹„ owâ€¿Â·â†Â¯1âŠ‘s â‹„ (mw-wwc-ow)!0
  } sums
}
â€¢Show SpotOutlierâŠâ€¢CurrentError root # â‡’ 1152
