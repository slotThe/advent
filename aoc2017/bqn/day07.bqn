âŸ¨Split, crâŸ© â† â€¢Import "../../util/bqn_util/util.bqn"
inp â† â€¢FLines "../inputs/day07.txt"
inp{ # Parse input
  ws â† ' ' Split ğ•©
  (âŠ‘ws)â€¿(â€¢BQN 1âŠ‘ws)â€¿((-(','âŠ¸=)âˆ˜(Â¯1âŠ¸â†‘))âŠ¸â†“Â¨3â†“ws) # nameâ€¿weightâ€¿children
}Â¨â†©

â€¢Show root â† âŠ‘ (âŠ‘Â¨inp)(Â¬âˆ˜âˆŠ/âŠ£)(âˆ¾Â¯1âŠ‘Â¨inp) # â‡’ "svugo"

1â†“âŠ‘((<"svugo")â‰¡Â¨âŠ‘Â¨inp)/inp

h â† âŸ¨âŸ©â€¢HashMapâŸ¨âŸ© â‹„ { nâ€¿wâ€¿ch: n h.Set wâ€¿ch }Â¨inp # name -> weight, children
M â† =Â´2â†‘âŠ‘Â¨ # Do the first two elements have matching cumulative weights?
SpotOutlier â† {
  wâ€¿ch â† h.Get ğ•©
  sums â† âˆ§{wâ€¿wc: âŸ¨w+wc,wâŸ©}Â¨ ğ•ŠÂ¨ch # Sort by ascending w+wc
  { ğ•ŠâŸ¨âŸ©: wâ€¿0;                    # No children
    ğ•Šs : M s? MâŒ½s?               # All child nodes's weights match
      âŸ¨w, (â‰ sums)Ã—âŠ‘âŠ‘sâŸ©;
    ğ•Šs : M s?                    # Last weight is higher than the [o]ther[w]eights
      wwcâ€¿mwâ†Â¯1âŠ‘s â‹„ owâ€¿Â·â†  âŠ‘s â‹„ (mw-wwc-ow)!0;
    ğ•Šs : MâŒ½s?                    # First weight is lower than the [other][w]eights
      wwcâ€¿mwâ†  âŠ‘s â‹„ owâ€¿Â·â†Â¯1âŠ‘s â‹„ (mw-wwc-ow)!0
  } sums
}
â€¢Show SpotOutlierâŠâ€¢CurrentError root # â‡’ 1152
