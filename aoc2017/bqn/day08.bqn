âŸ¨Split,crâŸ©â†â€¢Import"../../util/bqn_util/util.bqn"
inpâ†' 'âŠ¸SplitÂ¨ â€¢FLines"../inputs/day08.txt"

# Convert instructions to BQN code: Given a list of tokens like
#
#     âŸ¨ "d" "dec" "683" "if" "qn" "==" "0" âŸ©
#
# convert themâ€”if neededâ€”to their respective BQN token:
#
#     âŸ¨ "d" "-â†©" "683" "Ã—" "qn" "=" "0" âŸ©
conv â† âŸ¨
  âŸ¨"if", "dec", "inc", ">=", "==", "<=", "!="âŸ©
  âŸ¨"Ã—" , "-â†©" , "+â†©" , "â‰¥" , "=" , "â‰¤" , "â‰ " , âŠ¢âŸ© # last is fallthrough
âŸ©
C â† (âŠ‘1âŠËœ(âŠ‘conv)â‰¡Â¨<)â—¶(1âŠ‘conv)Â¨

r â† âˆŠâŠ¸/ âŠ‘Â¨inp                       # all registers â‡’ âŸ¨ "d" "rak" â€¦ âŸ©
â€¢Show â€¢BQN âˆ¾âŸ¨
  "hâˆžwâ†0â‹„"âˆ¾âˆ¾âˆ¾âŸœ"â†0â‹„"Â¨r               # zero everything â‡’ "hâˆžwâ†0 â‹„ dâ†0 â‹„ rakâ†0 â‹„ â€¦"
  (âˆ¾âŸœ"â‹„"âŠ¸âˆ¾)Â´({âˆ¾ð•©âˆ¾"â‹„hâˆžwâŒˆâ†©"âˆ¾âŠ‘ð•©}C)Â¨inp # Check highest after every instruction
                                    # â‡’ "d-â†©683Ã—qn=0 â‹„ hâˆžwâŒˆâ†©d â‹„ d-â†©-220Ã—h=0 â‹„ hâˆžwâŒˆâ†©dâ€¦"
  "â‹„part1â†âŒˆÂ´"âˆ¾(âˆ¾âŸœ"â€¿"âŠ¸âˆ¾)Â´r           # get max â‡’ "â‹„ part1 â† âŒˆÂ´dâ€¿rakâ€¿â€¦"
  "â‹„âŸ¨ part1, hâˆžw âŸ©"
âŸ© # â‡’ âŸ¨ 4416 5199 âŸ©
