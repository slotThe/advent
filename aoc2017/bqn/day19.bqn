inp â† âŒ½â‰âˆ˜({(' 'â¥ŠËœâ‰ ğ•©)âˆ¾âŒ½â‰ğ•©}âŸ3) >â€¢FLines"../inputs/day19.txt"

ND â† { pos ğ•Š dir: # Compute new direction for pos going in dir.
  ds â† (<Â¯1Ã—dir)(Â¬âˆ˜â·/âŠ¢)âŸ¨1â€¿0, 0â€¿1, Â¯1â€¿0, 0â€¿Â¯1âŸ© # Not where we came from
  ds/Ëœ' 'â‰ inpâŠ‘Ëœds+<pos                        # Not empty space
}

path â† {
  Â·â€¿pthâ€¿pos â† {
    ğ•Šdirâ€¿pthâ€¿pos:                  # Continue case
      np â† dir+pos
      ' 'â‰ npâŠ‘inp? âŸ¨dir, pthâˆ¾posâŠ‘inp, npâŸ©;
    ğ•Šdirâ€¿pthâ€¿pos:                  # Change direction case
      dir â†© âŠ‘ pos ND dir
      âŸ¨dir, pthâˆ¾posâŠ‘inp, pos+dirâŸ©
  } â€¢_while_ {
    ğ•Šdirâ€¿pthâ€¿pos: 0â‰  â‰ pos ND dir   # We can move somewhere
  } âŸ¨1â€¿0, "", âŸ¨0, âŠ‘(âŠinp)âŠ'|'âŸ©âŸ©
  pthâˆ¾posâŠ‘inp                      # Add last position to final path
}

â€¢Show âˆŠâŸœ('A'+â†•26)âŠ¸/ path # â‡’ "RUEDAHWKSM"
â€¢Show â‰ path              # â‡’ 17264
