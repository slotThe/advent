âŸ¨SplitâŸ©â†â€¢Import"../../util/bqn_util/util.bqn"
hâ€¿t â† <Ë˜â‰> ((Â¯1â†“âŠ‘)â‹ˆ1âŠ¸â†“)âˆ˜(' 'âŠ¸Split)Â¨ â€¢FLines "../inputs/day11.txt" # head, tail
gâ†â·hâˆ¾âˆ¾t â‹„ Iâ†{âŠ‘gâŠ<ğ•©} â‹„ t IÂ¨Â¨â†© â‹„ h IÂ¨â†©   # global, index, turn strings to indices

hm â† â€¢HashMapËœâŸ¨âŸ©               # memo
P â† { dsğ•Šsâ€¿e: sâ€¿e IÂ¨â†©          # Start, end, devices to include
  { ğ•Šnâ€¿mdâ€¿x: (âˆ§Â´1âŠ‘Â¨md)âˆ§x=e? n; # Number of paths, mask of req devices, cur node
    hm.Has ğ•©? hm.Get ğ•©;
    ğ•Šnâ€¿mdâ€¿x: r âŠ£ ğ•© hm.Set râ†+Â´ ğ•Šâˆ˜{âŸ¨1,{ğ•Šiâ€¿y:âŸ¨i,yâˆ¨i=xâŸ©}Â¨md,ğ•©âŸ©}Â¨ xâŠ‘âŠâŸ¨âŸ©t # Get neighbours and recurse
  } âŸ¨0, IâŠ¸â‹ˆâŸœ0Â¨ds, sâŸ©
}
!511            = âŸ¨âŸ©          P "you"â€¿"out"
!458618114529380= "fft"â€¿"dac" P "svr"â€¿"out"
